package com.slowkiosk.spring.config;

import com.slowkiosk.spring.entity.Menu;
import com.slowkiosk.spring.repository.MenuRepository;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Profile;

import java.util.List;

@Slf4j
@Configuration
@RequiredArgsConstructor
@Profile("!prod") // "prod" (운영) 프로필이 아닐 때만 실행
public class DataInitializer {

    private final MenuRepository menuRepository;

    @Bean
    public CommandLineRunner initData() {
        return args -> {
            log.info("Checking for existing menu data...");

            if (menuRepository.count() == 0) {
                log.info("No menu data found. Initializing data with NEW items...");

                // ==========================================
                // 1. BURGER (버거)
                // ==========================================
                Menu b001 = new Menu(null, "스테디 와퍼", 6900.0,
                        "참깨빵, 양상추, 양파, 피클, 소고기 패티, 케첩, 마요네즈",
                        "/images/B001.png", "BURGER",
                        "1회 제공량 기준 약 720kcal, 단백질 39.6g, 지방 30.4g, 탄수화물 72.0g, 당류 21.6g, 나트륨 720.0mg / 이 메뉴는 계란, 대두, 밀, 소고기를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "스테디 와퍼,버거,인기");

                Menu b002 = new Menu(null, "불고기 클래식 버거", 5200.0,
                        "참깨빵, 양상추, 양파, 피클, 소고기 패티, 케첩, 마요네즈, 불고기 소스",
                        "/images/B002.png", "BURGER",
                        "1회 제공량 기준 약 560kcal, 단백질 30.8g, 지방 23.6g, 탄수화물 56.0g, 당류 16.8g, 나트륨 560.0mg / 이 메뉴는 계란, 대두, 밀, 소고기를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "불고기 클래식 버거,버거,달콤한맛");

                Menu b003 = new Menu(null, "더블 치즈버거", 5900.0,
                        "참깨빵, 양상추, 양파, 피클, 소고기 패티 2장, 슬라이스 치즈 2장, 케첩, 마요네즈",
                        "/images/B003.png", "BURGER",
                        "1회 제공량 기준 약 610kcal, 단백질 33.5g, 지방 25.8g, 탄수화물 61.0g, 당류 18.3g, 나트륨 610.0mg / 이 메뉴는 계란, 대두, 밀, 소고기, 우유를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "더블 치즈버거,버거,치즈");

                Menu b004 = new Menu(null, "크리스피 치킨버거", 5800.0,
                        "참깨빵, 양상추, 양파, 피클, 치킨 패티, 케첩, 마요네즈",
                        "/images/B004.png", "BURGER",
                        "1회 제공량 기준 약 640kcal, 단백질 35.2g, 지방 27.0g, 탄수화물 64.0g, 당류 19.2g, 나트륨 640.0mg / 이 메뉴는 계란, 닭고기, 대두, 밀를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "크리스피 치킨버거,버거,치킨");

                Menu b005 = new Menu(null, "피쉬 타르타르 버거", 5500.0,
                        "참깨빵, 양상추, 양파, 피클, 생선 패티, 케첩, 마요네즈, 타르타르 소스",
                        "/images/B005.png", "BURGER",
                        "1회 제공량 기준 약 520kcal, 단백질 28.6g, 지방 22.0g, 탄수화물 52.0g, 당류 15.6g, 나트륨 520.0mg / 이 메뉴는 계란, 대두, 밀, 생선를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "피쉬 타르타르 버거,버거,해산물");

                // [추가] 매운 쉬림프 버거
                Menu bl010 = new Menu(null, "매운 쉬림프 버거", 9200.0,
                        "참깨빵, 양상추, 양파, 피클, 새우 패티, 케첩, 마요네즈, 스파이시 소스",
                        "/images/BL010.png", "BURGER",
                        "1회 제공량 기준 약 850kcal, 단백질 46.8g, 지방 35.9g, 탄수화물 85.0g, 당류 25.5g, 나트륨 850.0mg / 이 메뉴는 계란, 대두, 밀, 생선를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "한정,매운,매운 쉬림프 버거");

                // [신규] 베지테리언 버거
                Menu b011 = new Menu(null, "베지테리언 버거", 6200.0,
                        "참깨빵, 양상추, 토마토, 양파, 식물성 패티, 소이 마요네즈",
                        "/images/B011.png", "BURGER",
                        "1회 제공량 기준 약 420kcal, 단백질 18.5g, 지방 15.2g, 탄수화물 58.0g, 당류 9.5g, 나트륨 580.0mg / 이 메뉴는 대두, 밀를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "베지테리언 버거,버거,비건,채식");


                // ==========================================
                // 2. SET (세트 - 신규 추가)
                // ==========================================
                // [신규] 어린이 버거 세트 (장난감 포함)
                Menu s201 = new Menu(null, "어린이 버거 세트", 5500.0,
                        "키즈 불고기 버거, 스몰 프렌치프라이, 우유, 장난감",
                        "/images/S201.png", "SET",
                        "1회 제공량 기준 약 550kcal, 단백질 22.0g, 지방 20.0g, 탄수화물 75.0g, 당류 18.0g, 나트륨 450.0mg / 이 메뉴는 계란, 대두, 밀, 우유, 소고기를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "어린이 버거 세트,세트,키즈,장난감");


                // ==========================================
                // 3. SIDE (사이드)
                // ==========================================
                Menu sd201 = new Menu(null, "프렌치프라이 (R)", 2800.0,
                        "감자, 식용유, 소금",
                        "/images/SD201.png", "SIDE",
                        "1회 제공량 기준 약 320kcal, 단백질 8.0g, 지방 16.0g, 탄수화물 36.0g, 당류 10.8g, 나트륨 256.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "프렌치프라이 (R),사이드,감자튀김");

                Menu sd203 = new Menu(null, "치킨너겟 6조각", 3500.0,
                        "닭고기, 튀김옷, 식용유",
                        "/images/SD203.png", "SIDE",
                        "1회 제공량 기준 약 410kcal, 단백질 10.2g, 지방 20.5g, 탄수화물 46.1g, 당류 13.8g, 나트륨 328.0mg / 이 메뉴는 닭고기, 대두, 밀를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "치킨너겟 6조각,사이드,닭고기");

                Menu sd204 = new Menu(null, "어니언 링", 3200.0,
                        "양파, 튀김옷, 식용유",
                        "/images/SD204.png", "SIDE",
                        "1회 제공량 기준 약 360kcal, 단백질 9.0g, 지방 18.0g, 탄수화물 40.5g, 당류 12.2g, 나트륨 288.0mg / 이 메뉴는 대두, 밀를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "어니언 링,사이드,양파");

                // [추가] 코울슬로
                Menu sd205 = new Menu(null, "코울슬로", 2500.0,
                        "양배추, 당근, 마요네즈 드레싱",
                        "/images/SD205.png", "SIDE",
                        "1회 제공량 기준 약 150kcal, 단백질 3.8g, 지방 7.5g, 탄수화물 16.9g, 당류 5.1g, 나트륨 120.0mg / 이 메뉴는 계란, 대두, 밀를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "코울슬로,사이드,샐러드");

                Menu sd206 = new Menu(null, "치즈 프라이", 3800.0,
                        "감자, 식용유, 소금, 치즈 소스",
                        "/images/SD206.png", "SIDE",
                        "1회 제공량 기준 약 430kcal, 단백질 10.8g, 지방 21.5g, 탄수화물 48.4g, 당류 14.5g, 나트륨 344.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "치즈 프라이,사이드,치즈");

                Menu sd208 = new Menu(null, "모짜렐라 스틱 4조각", 3700.0,
                        "모짜렐라 치즈, 튀김옷, 식용유",
                        "/images/SD208.png", "SIDE",
                        "1회 제공량 기준 약 390kcal, 단백질 9.8g, 지방 19.5g, 탄수화물 43.9g, 당류 13.2g, 나트륨 312.0mg / 이 메뉴는 대두, 밀, 우유를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "모짜렐라 스틱 4조각,사이드,치즈");

                // [신규] 치킨랩
                Menu sd211 = new Menu(null, "치킨랩", 3800.0,
                        "또띠아, 치킨 텐더, 양상추, 머스타드 소스",
                        "/images/SD211.png", "SIDE",
                        "1회 제공량 기준 약 350kcal, 단백질 15.0g, 지방 12.0g, 탄수화물 45.0g, 당류 4.0g, 나트륨 600.0mg / 이 메뉴는 계란, 대두, 밀, 닭고기를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "치킨랩,사이드,치킨,스낵");

                // [신규] 리코타 치즈 샐러드
                Menu sd212 = new Menu(null, "리코타 치즈 샐러드", 4800.0,
                        "양상추 믹스, 리코타 치즈, 방울토마토, 발사믹 드레싱",
                        "/images/SD212.png", "SIDE",
                        "1회 제공량 기준 약 210kcal, 단백질 8.5g, 지방 14.0g, 탄수화물 12.0g, 당류 6.0g, 나트륨 280.0mg / 이 메뉴는 우유, 토마토를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "리코타 치즈 샐러드,사이드,샐러드,건강");

                // [신규] 빵 조각이 살짝 떠 있는 머쉬룸 스프
                Menu sd213 = new Menu(null, "머쉬룸 스프", 3500.0,
                        "양송이, 크림, 우유, 크루통(빵 조각)",
                        "/images/SD213.png", "SIDE",
                        "1회 제공량 기준 약 180kcal, 단백질 4.0g, 지방 10.0g, 탄수화물 18.0g, 당류 3.0g, 나트륨 420.0mg / 이 메뉴는 우유, 대두, 밀를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "머쉬룸 스프,사이드,스프,따뜻한");

                // [신규] 간단한 토마토 파스타
                Menu sd214 = new Menu(null, "토마토 파스타", 4200.0,
                        "파스타면, 토마토 소스, 파슬리, 파마산 치즈",
                        "/images/SD214.png", "SIDE",
                        "1회 제공량 기준 약 380kcal, 단백질 11.0g, 지방 8.0g, 탄수화물 65.0g, 당류 7.0g, 나트륨 550.0mg / 이 메뉴는 밀, 우유, 토마토, 대두를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "토마토 파스타,사이드,면요리");


                // ==========================================
                // 4. DRINK (음료)
                // ==========================================
                Menu dr001 = new Menu(null, "콜라 (R)", 2200.0,
                        "탄산수, 콜라 베이스, 설탕, 카페인",
                        "/images/DR001.png", "DRINK",
                        "1회 제공량 기준 약 150kcal, 단백질 0.0g, 지방 0.0g, 탄수화물 37.5g, 당류 33.8g, 나트륨 30.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "콜라,음료,탄산");

                Menu dr003 = new Menu(null, "콜라 제로 (R)", 2200.0,
                        "탄산수, 무설탕 콜라 베이스, 카페인",
                        "/images/DR003.png", "DRINK",
                        "1회 제공량 기준 약 10kcal, 단백질 0.0g, 지방 0.0g, 탄수화물 0.0g, 당류 0.0g, 나트륨 2.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "콜라 제로,음료,탄산,제로칼로리");

                Menu dr005 = new Menu(null, "사이다 (R)", 2200.0,
                        "탄산수, 레몬라임 향료, 설탕",
                        "/images/DR005.png", "DRINK",
                        "1회 제공량 기준 약 150kcal, 단백질 0.0g, 지방 0.0g, 탄수화물 37.5g, 당류 33.8g, 나트륨 30.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "사이다,음료,탄산");

                Menu dr007 = new Menu(null, "오렌지 주스 (R)", 2200.0,
                        "과일 농축액, 물, 설탕",
                        "/images/DR007.png", "DRINK",
                        "1회 제공량 기준 약 150kcal, 단백질 0.0g, 지방 0.0g, 탄수화물 37.5g, 당류 33.8g, 나트륨 30.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "오렌지 주스,음료,과일");

                Menu dr011 = new Menu(null, "아이스 아메리카노 (R)", 2200.0,
                        "에스프레소, 물, 얼음",
                        "/images/DR011.png", "DRINK",
                        "1회 제공량 기준 약 10kcal, 단백질 0.0g, 지방 0.0g, 탄수화물 2.5g, 당류 2.2g, 나트륨 2.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "아이스 아메리카노,음료,커피");

                // [추가] 핫 아메리카노
                Menu dr013 = new Menu(null, "핫 아메리카노 (R)", 2200.0,
                        "에스프레소, 물",
                        "/images/DR013.png", "DRINK",
                        "1회 제공량 기준 약 10kcal, 단백질 0.0g, 지방 0.0g, 탄수화물 2.5g, 당류 2.2g, 나트륨 2.0mg 정도의 영양 정보를 가지고 있습니다.",
                        "핫 아메리카노,음료");

                // [신규] 마시멜로 핫초코
                Menu dr021 = new Menu(null, "마시멜로 핫초코", 3500.0,
                        "우유, 핫초코 파우더, 미니 마시멜로",
                        "/images/DR021.png", "DRINK",
                        "1회 제공량 기준 약 280kcal, 단백질 8.0g, 지방 9.0g, 탄수화물 42.0g, 당류 38.0g, 나트륨 120.0mg / 이 메뉴는 우유를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "마시멜로 핫초코,음료,따뜻한,달콤한맛");


                // ==========================================
                // 5. DESSERT (디저트)
                // ==========================================
                Menu ds001 = new Menu(null, "소프트 아이스크림", 2000.0,
                        "우유, 생크림, 설탕, 바닐라향",
                        "/images/DS001.png", "DESSERT",
                        "1회 제공량 기준 약 190kcal, 단백질 7.1g, 지방 7.4g, 탄수화물 23.8g, 당류 7.1g, 나트륨 95.0mg / 이 메뉴는 우유를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "소프트 아이스크림,디저트");

                Menu ds002 = new Menu(null, "초코 선데", 2700.0,
                        "우유, 생크림, 설탕, 바닐라향, 초코 시럽",
                        "/images/DS002.png", "DESSERT",
                        "1회 제공량 기준 약 260kcal, 단백질 9.8g, 지방 10.1g, 탄수화물 32.5g, 당류 9.8g, 나트륨 130.0mg / 이 메뉴는 우유를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "초코 선데,디저트");

                Menu ds003 = new Menu(null, "애플 파이", 2300.0,
                        "밀가루, 버터, 사과 필링, 설탕, 계피",
                        "/images/DS003.png", "DESSERT",
                        "1회 제공량 기준 약 230kcal, 단백질 8.6g, 지방 8.9g, 탄수화물 28.8g, 당류 8.6g, 나트륨 115.0mg / 이 메뉴에 대한 상세 알레르기 정보는 제한적으로 제공됩니다.",
                        "애플 파이,디저트");

                Menu ds009 = new Menu(null, "밀크셰이크 바닐라", 3500.0,
                        "우유, 생크림, 설탕, 바닐라향",
                        "/images/DS009.png", "DESSERT",
                        "1회 제공량 기준 약 390kcal, 단백질 14.6g, 지방 15.2g, 탄수화물 48.8g, 당류 14.6g, 나트륨 195.0mg / 이 메뉴는 우유를(을) 함유하고 있어 알레르기가 있는 고객은 섭취에 주의가 필요합니다.",
                        "밀크셰이크 바닐라,디저트");


                // DB 저장
                menuRepository.saveAll(List.of(
                        // Burger
                        b001, b002, b003, b004, b005, bl010, b011,
                        // Set
                        s201,
                        // Side
                        sd201, sd203, sd204, sd205, sd206, sd208, sd211, sd212, sd213, sd214,
                        // Drink
                        dr001, dr003, dr005, dr007, dr011, dr013, dr021,
                        // Dessert
                        ds001, ds002, ds003, ds009
                ));

                log.info("Menu data initialization complete. {} menus added.", menuRepository.count());
            } else {
                log.info("Menu data already exists. ({} items)", menuRepository.count());
            }
        };
    }
}